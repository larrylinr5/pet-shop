{"version":3,"file":"js/739.45ef35bc.js","mappings":"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","sources":["webpack://pet-shop/./node_modules/mitt/dist/mitt.mjs","webpack://pet-shop/./src/libs/emitter.js","webpack://pet-shop/./src/views/ProductView.vue","webpack://pet-shop/./src/views/ProductView.vue?f743"],"sourcesContent":["export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","import mitt from 'mitt'\r\n\r\nconst emitter = mitt()\r\nexport default emitter\r\n","<template>\r\n  <div class=\"container\" style=\"margin-bottom:calc(100vh - 42rem)\">\r\n      <div :style=\"{backgroundImage:`url(${product.imageUrl})`}\" style=\"min-height: 400px;background-repeat:no-repeat;\r\n      background-position: center center;\">\r\n      </div>\r\n      <div class=\"row justify-content-between mt-4 mb-7\">\r\n        <div class=\"col-md-7\">\r\n          <h2 class=\"mb-0\">{{product.title}}</h2>\r\n          <p class=\"fw-bold\">NT${{product.price}}</p>\r\n          <p>{{product.description}}</p>\r\n        </div>\r\n        <div class=\"col-md-4\">\r\n          <div class=\"input-group mb-3 border mt-3\">\r\n            <div class=\"input-group-prepend\">\r\n              <button class=\"btn btn-outline-dark rounded-0 border-0 py-3\" type=\"button\" id=\"button-addon1\" @click=\"minusNum\">\r\n                <i class=\"bi bi-dash\"></i>\r\n              </button>\r\n            </div>\r\n            <input type=\"text\" class=\"form-control border-0 text-center my-auto shadow-none\" placeholder=\"\" aria-label=\"Example text with button addon\" aria-describedby=\"button-addon1\"  v-model=\"qty\">\r\n            <div class=\"input-group-append\">\r\n              <button class=\"btn btn-outline-dark rounded-0 border-0 py-3\" type=\"button\" id=\"button-addon2\" @click=\"addNum\">\r\n                <i class=\"bi bi-plus\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <button class=\"btn btn-dark btn-block rounded-0 py-3\" @click=\"addToCart()\">\r\n            <span class=\"spinner-border spinner-border-sm\" v-show=\"isLoadingItem===product.id\"></span>\r\n            加到購物車\r\n            </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport emitter from '@/libs/emitter'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      product: {},\r\n      isLoadingItem: '',\r\n      qty: '1'\r\n    }\r\n  },\r\n  methods: {\r\n    getProduct () {\r\n      const { id } = this.$route.params\r\n      this.$http(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${id}`).then(\r\n        (res) => {\r\n          this.product = res.data.product\r\n        }\r\n      )\r\n    },\r\n    // 新增購物車內容\r\n    addToCart () {\r\n      const data = {\r\n        product_id: this.product.id,\r\n        qty: Number(this.qty)\r\n      }\r\n      this.isLoadingItem = this.product.id\r\n      this.$http.post(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`, { data })\r\n        // 成功的結果\r\n        .then((response) => {\r\n          this.isLoadingItem = ''\r\n          emitter.emit('get-cart')\r\n        })\r\n        // 失敗的結果\r\n        .catch(() => {\r\n          alert('新增購物失敗')\r\n          this.isLoadingItem = ''\r\n        })\r\n    },\r\n    // +1\r\n    addNum () {\r\n      this.qty = Number(this.qty) + 1\r\n    },\r\n    // -1\r\n    minusNum () {\r\n      if (Number(this.qty) <= 1) {\r\n        this.qty = 1\r\n      } else this.qty = Number(this.qty) - 1\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getProduct()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./ProductView.vue?vue&type=template&id=4bc578da\"\nimport script from \"./ProductView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\PostalProject\\\\vue2\\\\pet-shop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["n","all","Map","on","t","e","i","get","push","set","off","splice","indexOf","emit","slice","map","emitter","mitt","class","style","_createElementVNode","_hoisted_9","_hoisted_12","_createElementBlock","backgroundImage","$data","imageUrl","_toDisplayString","title","price","description","type","id","onClick","$options","placeholder","$event","data","product","isLoadingItem","qty","methods","getProduct","this","$route","params","$http","then","res","addToCart","product_id","Number","post","response","catch","alert","addNum","minusNum","mounted","__exports__","render"],"sourceRoot":""}