"use strict";(self["webpackChunkpet_shop"]=self["webpackChunkpet_shop"]||[]).push([[739],{1530:function(t,n,e){function o(t){return{all:t=t||new Map,on:function(n,e){var o=t.get(n);o?o.push(e):t.set(n,[e])},off:function(n,e){var o=t.get(n);o&&(e?o.splice(o.indexOf(e)>>>0,1):t.set(n,[]))},emit:function(n,e){var o=t.get(n);o&&o.slice().map((function(t){t(e)})),(o=t.get("*"))&&o.slice().map((function(t){t(n,e)}))}}}e.d(n,{Z:function(){return r}});const i=o();var r=i},3739:function(t,n,e){e.r(n),e.d(n,{default:function(){return C}});var o=e(6252),i=e(3577),r=e(9963);const s={class:"container",style:{"margin-bottom":"calc(100vh - 42rem)"}},d={class:"row justify-content-between mt-4 mb-7"},a={class:"col-md-7"},u={class:"mb-0"},c={class:"fw-bold"},l={class:"col-md-4"},p={class:"input-group mb-3 border mt-3"},b={class:"input-group-prepend"},h=(0,o._)("i",{class:"bi bi-dash"},null,-1),m=[h],y={class:"input-group-append"},g=(0,o._)("i",{class:"bi bi-plus"},null,-1),f=[g],v={class:"spinner-border spinner-border-sm"},_=(0,o.Uk)(" 加到購物車 ");function k(t,n,e,h,g,k){return(0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("div",{style:(0,i.j5)([{backgroundImage:`url(${g.product.imageUrl})`},{"min-height":"400px","background-repeat":"no-repeat","background-position":"center center"}])},null,4),(0,o._)("div",d,[(0,o._)("div",a,[(0,o._)("h2",u,(0,i.zw)(g.product.title),1),(0,o._)("p",c,"NT$"+(0,i.zw)(g.product.price),1),(0,o._)("p",null,(0,i.zw)(g.product.description),1)]),(0,o._)("div",l,[(0,o._)("div",p,[(0,o._)("div",b,[(0,o._)("button",{class:"btn btn-outline-dark rounded-0 border-0 py-3",type:"button",id:"button-addon1",onClick:n[0]||(n[0]=(...t)=>k.minusNum&&k.minusNum(...t))},m)]),(0,o.wy)((0,o._)("input",{type:"text",class:"form-control border-0 text-center my-auto shadow-none",placeholder:"","aria-label":"Example text with button addon","aria-describedby":"button-addon1","onUpdate:modelValue":n[1]||(n[1]=t=>g.qty=t)},null,512),[[r.nr,g.qty]]),(0,o._)("div",y,[(0,o._)("button",{class:"btn btn-outline-dark rounded-0 border-0 py-3",type:"button",id:"button-addon2",onClick:n[2]||(n[2]=(...t)=>k.addNum&&k.addNum(...t))},f)])]),(0,o._)("button",{class:"btn btn-dark btn-block rounded-0 py-3",onClick:n[3]||(n[3]=t=>k.addToCart())},[(0,o.wy)((0,o._)("span",v,null,512),[[r.F8,g.isLoadingItem===g.product.id]]),_])])])])}var w=e(1530),q={data(){return{product:{},isLoadingItem:"",qty:"1"}},methods:{getProduct(){const{id:t}=this.$route.params;this.$http(`https://vue3-course-api.hexschool.io/v2/api/larrylinr5/product/${t}`).then((t=>{this.product=t.data.product}))},addToCart(){const t={product_id:this.product.id,qty:Number(this.qty)};this.isLoadingItem=this.product.id,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/larrylinr5/cart",{data:t}).then((t=>{this.isLoadingItem="",w.Z.emit("get-cart")})).catch((()=>{alert("新增購物失敗"),this.isLoadingItem=""}))},addNum(){this.qty=Number(this.qty)+1},minusNum(){Number(this.qty)<=1?this.qty=1:this.qty=Number(this.qty)-1}},mounted(){this.getProduct()}},N=e(3744);const x=(0,N.Z)(q,[["render",k]]);var C=x}}]);
//# sourceMappingURL=739.45ef35bc.js.map