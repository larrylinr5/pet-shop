{"version":3,"file":"js/826.cd4f2369.js","mappings":"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","sources":["webpack://pet-shop/./node_modules/mitt/dist/mitt.mjs","webpack://pet-shop/./src/libs/emitter.js","webpack://pet-shop/./src/views/TableView.vue","webpack://pet-shop/./src/views/TableView.vue?cc98"],"sourcesContent":["export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","import mitt from 'mitt'\r\n\r\nconst emitter = mitt()\r\nexport default emitter\r\n","<template>\r\n  <div class=\"container\">\r\n    <div class=\"row justify-content-between\">\r\n      <!-- 購物車資料 -->\r\n      <div class=\"col-md-5 bg-white py-6 px-5\" >\r\n        <div class=\"d-flex mt-4 bg-light\" v-for=\"item in cartData.carts\" :key=\"item.id\">\r\n          <img :src=\"item.product.imageUrl\" alt=\"\" style=\"width: 120px; height: 120px; object-fit: cover;\">\r\n          <div class=\"w-100 p-3 position-relative\">\r\n            <p class=\"mb-0 fw-bold\">{{item.product.title}}</p>\r\n            <p class=\"mb-1 text-muted\" style=\"height:1.5rem;overflow:hidden\">{{item.product.description}}</p>\r\n            <div class=\"d-flex justify-content-between align-items-center w-100\">\r\n              <div class=\"input-group w-50 align-items-center\">\r\n                <input type=\"text\" class=\"form-control border-0 text-center my-auto shadow-none bg-light px-0\" placeholder=\"\" aria-label=\"Example text with button addon\" aria-describedby=\"button-addon1\" disabled :value=\"item.qty\">\r\n              </div>\r\n              <p class=\"mb-0 ms-auto\">NT${{item.product.price}}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div style=\"margin-left: 124px;\">\r\n          <table class=\"table mt-4 text-muted\">\r\n            <tbody>\r\n              <tr v-for=\"item in cartData.carts\" :key=\"item.id+'1'\">\r\n                <th scope=\"row\" class=\"border-0 px-0 font-weight-normal\">{{item.product.title}}</th>\r\n                <td class=\"text-end border-0 px-0\">{{Number(item.final_total)}}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <div class=\"d-flex justify-content-between mt-4\">\r\n            <p class=\"mb-0 h4 fw-bold\">總金額</p>\r\n            <p class=\"mb-0 h4 fw-bold\">NT${{totalMoney}}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 表單資訊 -->\r\n      <div class=\"col-md-5 bg-white py-6 px-5\" >\r\n        <div class=\"my-5 row justify-content-center\">\r\n          <Form ref=\"form\" class=\"col-md-12\" v-slot=\"{ errors }\" @submit=\"onSubmit\">\r\n            <!-- Email -->\r\n            <div class=\"mb-3\">\r\n              <label for=\"email\" class=\"form-label\">Email</label>\r\n              <Field id=\"email\" name=\"email\" type=\"email\" class=\"form-control\" :class=\"{ 'is-invalid': errors['email'] }\" placeholder=\"請輸入 Email\" rules=\"email|required\" v-model=\"user.email\"></Field>\r\n              <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\r\n            </div>\r\n\r\n            <!-- 收件人姓名 -->\r\n            <div class=\"mb-3\">\r\n              <label for=\"name\" class=\"form-label\">收件人姓名</label>\r\n              <Field id=\"name\" name=\"姓名\" type=\"text\" class=\"form-control\" :class=\"{ 'is-invalid': errors['姓名'] }\" placeholder=\"請輸入姓名\" rules=\"required\" v-model=\"user.name\"></Field>\r\n              <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\r\n            </div>\r\n\r\n            <!-- 收件人電話 -->\r\n            <div class=\"mb-3\">\r\n              <label for=\"tel\" class=\"form-label\">收件人電話</label>\r\n              <Field id=\"tel\" name=\"電話\" type=\"text\" class=\"form-control\" :class=\"{ 'is-invalid': errors['電話'] }\" placeholder=\"請輸入電話\" :rules=\"isPhone\" v-model=\"user.phone\"></Field>\r\n              <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\r\n            </div>\r\n\r\n            <!-- 收件人地址 -->\r\n            <div class=\"mb-3\">\r\n              <label for=\"address\" class=\"form-label\">收件人地址</label>\r\n              <Field id=\"address\" name=\"地址\" type=\"text\" class=\"form-control\" :class=\"{ 'is-invalid': errors['地址'] }\" placeholder=\"請輸入地址\" rules=\"required\" v-model=\"user.address\"></Field>\r\n              <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\r\n            </div>\r\n\r\n            <!-- 留言 -->\r\n            <div class=\"mb-3\">\r\n              <label for=\"message\" class=\"form-label\">留言</label>\r\n              <textarea id=\"message\" class=\"form-control\" cols=\"30\" rows=\"10\" v-model=\"user.msg\"></textarea>\r\n            </div>\r\n\r\n            <div class=\"text-end\">\r\n              <button type=\"submit\" class=\"btn btn-danger\" :disabled=\"cartData.carts.length===0\">確認結帳</button>\r\n            </div>\r\n          </Form>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport emitter from '@/libs/emitter'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      cartData: {\r\n        carts: []\r\n      },\r\n      // 使用者表單資訊\r\n      user: {\r\n        // 電子郵件\r\n        email: '',\r\n        // 收件人姓名\r\n        name: '',\r\n        // 地址\r\n        address: '',\r\n        // 電話\r\n        phone: '',\r\n        // 留言\r\n        msg: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    isRequired (value) {\r\n      return value ? true : 'This field is required'\r\n    },\r\n    getCart () {\r\n      this.$http\r\n        .get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`)\r\n        .then((res) => {\r\n          this.cartData = res.data.data\r\n        })\r\n    },\r\n    // 電話檢核規則\r\n    isPhone (value) {\r\n      const phoneNumber = /^(09)[0-9]{8}$/\r\n      return phoneNumber.test(value) ? true : '需要正確的電話號碼'\r\n    },\r\n    // 送出表單\r\n    onSubmit () {\r\n      this.$http.delete(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/carts`)\r\n        // 成功的結果\r\n        .then(() => {\r\n          alert('結帳完成')\r\n          emitter.emit('get-cart')\r\n          // 重設表單\r\n          this.$refs.form.resetForm()\r\n          this.$router.push('/home')\r\n        })\r\n        // 失敗的結果\r\n        .catch(() => {\r\n          alert('結帳失敗')\r\n        })\r\n    }\r\n  },\r\n  computed: {\r\n    totalMoney () {\r\n      let money = 0\r\n      this.cartData.carts.forEach(x => {\r\n        money += Number(x.final_total) * Number(x.qty)\r\n      })\r\n      return money\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getCart()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./TableView.vue?vue&type=template&id=4e75358e\"\nimport script from \"./TableView.vue?vue&type=script&lang=js\"\nexport * from \"./TableView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\PostalProject\\\\vue2\\\\pet-shop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["n","all","Map","on","t","e","i","get","push","set","off","splice","indexOf","emit","slice","map","emitter","mitt","class","style","scope","_createElementVNode","for","_createElementBlock","_Fragment","_renderList","$data","carts","item","key","id","src","product","imageUrl","alt","_toDisplayString","title","description","type","placeholder","disabled","value","qty","price","Number","final_total","_hoisted_17","$options","_createVNode","_component_Form","ref","onSubmit","errors","_hoisted_22","_component_Field","name","rules","email","$event","_component_ErrorMessage","_hoisted_24","_hoisted_26","phone","_hoisted_28","address","_hoisted_30","cols","rows","msg","length","_hoisted_32","data","cartData","user","methods","isRequired","getCart","this","$http","then","res","isPhone","phoneNumber","test","delete","alert","$refs","form","resetForm","$router","catch","computed","totalMoney","money","forEach","x","mounted","__exports__","render"],"sourceRoot":""}