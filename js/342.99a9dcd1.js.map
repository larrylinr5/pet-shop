{"version":3,"file":"js/342.99a9dcd1.js","mappings":"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","sources":["webpack://pet-shop/./src/views/CartView.vue","webpack://pet-shop/./src/components/CartObj.vue","webpack://pet-shop/./src/components/CartObj.vue?f57f","webpack://pet-shop/./src/views/CartView.vue?73a2"],"sourcesContent":["<template>\r\n<div class=\"container\">\r\n      <div class=\"row justify-content-center\">\r\n        <div class=\"col-md-6 bg-white py-5\" style=\"min-height: calc(100vh - 56px - 76px);\">\r\n          <div class=\"d-flex justify-content-between\">\r\n            <h2 class=\"mt-2\">Cart Detail</h2>\r\n          </div>\r\n          <!-- 產品列表 -->\r\n          <div class=\"d-flex mt-4 bg-light\" v-for=\"item in cartData.carts\" :key=\"item.id\">\r\n            <CartObj :item=\"item\" @get-cart=\"getCart()\"></CartObj>\r\n          </div>\r\n\r\n          <table class=\"table mt-4 text-muted\">\r\n            <tbody>\r\n              <tr v-for=\"item in cartData.carts\" :key=\"item.id+'1'\">\r\n                <th scope=\"row\" class=\"border-0 px-0 font-weight-normal\">{{item.product.title}}</th>\r\n                <td class=\"text-end border-0 px-0\">{{Number(item.final_total)}}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <div class=\"d-flex justify-content-between mt-4\">\r\n            <p class=\"mb-0 h4 fw-bold\">總金額</p>\r\n            <p class=\"mb-0 h4 fw-bold\">NT${{totalMoney}}</p>\r\n          </div>\r\n          <router-link class=\"btn btn-dark btn-block mt-4 rounded-0 py-3\" style=\"text-decoration:none;\" to=\"/table\">前往結帳</router-link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport CartObj from '@/components/CartObj.vue'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      cartData: {\r\n        carts: []\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    CartObj\r\n  },\r\n  methods: {\r\n    getCart () {\r\n      this.$http\r\n        .get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`)\r\n        .then((res) => {\r\n          this.cartData = res.data.data\r\n        })\r\n    }\r\n  },\r\n  computed: {\r\n    totalMoney () {\r\n      let money = 0\r\n      this.cartData.carts.forEach(x => {\r\n        money += Number(x.final_total)\r\n      })\r\n      return money\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getCart()\r\n  }\r\n}\r\n\r\n</script>\r\n","<template>\r\n  <img :src=\"item.product.imageUrl\" alt=\"\" style=\"width: 120px; height: 120px; object-fit: cover;\">\r\n  <div class=\"w-100 p-3 position-relative\">\r\n    <a href=\"#\" class=\"position-absolute\" style=\"top: 16px; right: 16px;\" @click.prevent=\"removeCartItem\"><i class=\"bi bi-x-lg\"></i></a>\r\n    <p class=\"mb-0 fw-bold\">{{item.product.title}}</p>\r\n    <p class=\"mb-1 text-muted\" style=\"height:1.5rem;overflow:hidden\">{{item.product.description}}</p>\r\n    <div class=\"d-flex justify-content-between align-items-center w-100\">\r\n      <div class=\"input-group w-50 align-items-center\">\r\n        <div class=\"input-group-prepend pe-1\">\r\n          <a href=\"#\" style=\"text-decoration:none;color:black;\" @click.prevent=\"minusNum\"><i class=\"bi bi-dash\"></i></a>\r\n        </div>\r\n\r\n        <input type=\"text\" class=\"form-control border-0 text-center my-auto shadow-none bg-light px-0\" placeholder=\"\" aria-label=\"Example text with button addon\" aria-describedby=\"button-addon1\" v-model=\"qty\">\r\n\r\n        <div class=\"input-group-append ps-1\">\r\n          <a href=\"#\" style=\"text-decoration:none;color:black;\" @click.prevent=\"addNum\"><i class=\"bi bi-plus\"></i></a>\r\n        </div>\r\n      </div>\r\n      <p class=\"mb-0 ms-auto\">NT${{item.product.price}}</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['item'],\r\n  data () {\r\n    return {\r\n      qty: '1'\r\n    }\r\n  },\r\n  methods: {\r\n    // 移除單筆購物車內容\r\n    removeCartItem () {\r\n      this.$http.delete(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${this.item.id}`)\r\n        // 成功的結果\r\n        .then(() => {\r\n          this.$emit('get-cart')\r\n        })\r\n        // 失敗的結果\r\n        .catch(() => {\r\n          alert('刪除失敗')\r\n        })\r\n    },\r\n    // +1\r\n    addNum () {\r\n      this.qty = Number(this.qty) + 1\r\n      this.UpdateCartItem()\r\n    },\r\n    // -1\r\n    minusNum () {\r\n      if (Number(this.qty) <= 1) {\r\n        this.qty = 1\r\n      } else this.qty = Number(this.qty) - 1\r\n      this.UpdateCartItem()\r\n    },\r\n    // 更新購物車\r\n    UpdateCartItem () {\r\n      const data = {\r\n        product_id: this.item.id,\r\n        qty: Number(this.qty)\r\n      }\r\n      this.$http.put(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${this.item.id}`, { data })\r\n        // 成功的結果\r\n        .then((response) => {\r\n          this.$emit('get-cart')\r\n        })\r\n        // 失敗的結果\r\n        .catch(() => {\r\n          alert('更新失敗')\r\n        })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.qty = this.item.qty\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./CartObj.vue?vue&type=template&id=85e74e1c\"\nimport script from \"./CartObj.vue?vue&type=script&lang=js\"\nexport * from \"./CartObj.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\PostalProject\\\\vue2\\\\pet-shop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./CartView.vue?vue&type=template&id=22831eb8\"\nimport script from \"./CartView.vue?vue&type=script&lang=js\"\nexport * from \"./CartView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\PostalProject\\\\vue2\\\\pet-shop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","scope","_createElementBlock","_hoisted_4","_Fragment","_renderList","$data","carts","item","key","id","_createVNode","_component_CartObj","onGetCart","$options","_toDisplayString","product","title","Number","final_total","_hoisted_9","_component_router_link","to","_hoisted_3","_hoisted_10","_hoisted_13","src","$props","imageUrl","alt","href","onClick","description","type","placeholder","$event","price","props","data","qty","methods","removeCartItem","this","$http","delete","then","$emit","catch","alert","addNum","UpdateCartItem","minusNum","product_id","put","response","mounted","__exports__","cartData","components","CartObj","getCart","get","res","computed","totalMoney","money","forEach","x","render"],"sourceRoot":""}