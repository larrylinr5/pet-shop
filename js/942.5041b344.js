"use strict";(self["webpackChunkpet_shop"]=self["webpackChunkpet_shop"]||[]).push([[942],{8942:function(t,a,e){e.r(a),e.d(a,{default:function(){return W}});var s=e(6252);function o(t,a,e,o,n,r){const l=(0,s.up)("DashboardNavbar"),i=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(l),(0,s.Wm)(i)],64)}const n={class:"bg-white sticky-top"},r={class:"container"},l={class:"navbar px-0 navbar-expand-lg navbar-light bg-white"},i=(0,s.Uk)("Pet Shop"),c=(0,s._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,s._)("span",{class:"navbar-toggler-icon"})],-1),u={class:"collapse navbar-collapse bg-white custom-header-md-open",id:"navbarNav"},h={class:"navbar-nav"},p={class:"nav-item"},d=(0,s.Uk)("產品列表"),v={class:"nav-item"},b=(0,s.Uk)("後台"),m={class:"d-flex"},g=(0,s.Uk)("登出");function k(t,a,e,o,k,f){const _=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("div",r,[(0,s._)("nav",l,[(0,s.Wm)(_,{class:"navbar-brand position-absolute",to:"/home",style:{left:"50%",transform:"translate(-50%, -50%)",top:"50%"}},{default:(0,s.w5)((()=>[i])),_:1}),c,(0,s._)("div",u,[(0,s._)("ul",h,[(0,s._)("li",p,[(0,s.Wm)(_,{class:"nav-link",to:"/products"},{default:(0,s.w5)((()=>[d])),_:1})]),(0,s._)("li",v,[(0,s.Wm)(_,{class:"nav-link",to:"/admin"},{default:(0,s.w5)((()=>[b])),_:1})])])]),(0,s._)("div",m,[(0,s.Wm)(_,{type:"button",class:"btn btn-light ml-1",to:"/products",onClick:f.logOut},{default:(0,s.w5)((()=>[g])),_:1},8,["onClick"])])])])])}var f={methods:{logOut(){this.$http.post("https://vue3-course-api.hexschool.io/v2/logout").then((()=>{alert("登出成功"),document.cookie='larryToken="";expires=""; path=/'})).catch((()=>{alert("登出失敗")}))}}},_=e(3744);const w=(0,_.Z)(f,[["render",k]]);var $=w,x={components:{DashboardNavbar:$},methods:{checkAdmin(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)larryToken\s*=\s*([^;]*).*$)|^.*$/,"$1");t?(this.$http.defaults.headers.common.Authorization=`${t}`,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/user/check",{api_token:this.token}).then((t=>{this.$router.push("/admin/products")})).catch((()=>{this.$router.push("/login")}))):(this.$router.push("/login"),alert("您尚未登入。"))}},mounted(){this.checkAdmin()}};const y=(0,_.Z)(x,[["render",o]]);var W=y}}]);
//# sourceMappingURL=942.5041b344.js.map